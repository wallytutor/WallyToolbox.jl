{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "SIF",
	"patterns": [
		{
			"include": "#comments"
		},
		{
			"include": "#numbers"
		},
		{
			"include": "#operators"
		},
		{
			"include": "#strings"
	    },
		{
			"include": "#fieldssimulation"
		},
		{
			"include": "#sections"
		},
		{
			"include": "#fieldsheader"
		},
		{
			"include": "#fieldsconstants"
		},
		{
			"include": "#fieldssolver"
		},
		{
			"include": "#fieldsbody"
		},
		{
			"include": "#fieldsequation"
		},
		{
			"include": "#fieldsmaterial"
		},
		{
			"include": "#fieldsconditions"
		},
		{
			"include": "#datatypes"
		},
		{
			"include": "#options"
		},
		{
			"include": "#equations"
		}
	],
	"repository": {
		"comments": {
			"patterns": [{
				"name": "comment.line.tdb",
				"match": "#.*"
			}]
		},
		"numbers": {
			"patterns": [{
				"name": "constant.numeric",
				"match": "((([+-]\\s*)|(\\b))((\\d+(\\.\\d+)?)|(\\.\\d+)))(\\s*[eE]([+-]\\s*)?((\\d+(\\.\\d+)?)|(\\.\\d+)))?\\b"
			}]
		},
		"operators": {
			"patterns": [
				{
					"name": "keyword.control.operator",
					"match": "[-\\*/\\\\+=]"
				},
				{
					"name": "keyword.control.other",
					"match": "\\b(?i)(LN)\\b"
				}
			]
		},
		"strings": {
			"name": "string.ref.tdb",
			"begin": "\"",
			"end": "\"",
			"patterns": [
				{
					"name": "constant.character.ref-strings.tdb",
					"match": "\\\\."
				}
			]
		},
		"datatypes": {
			"patterns": [{
				"name": "entity.name.class",
				"match": "\\b(Real|Integer|Logical|String|File)\\b"
			}]
		},
		"options": {
			"patterns": [{
				"name": "entity.name.tag",
				"match": "\\b(Warn|Cartesian|Steady state|Transient|BDF|Always|After Simulation|True|False|Iterative|BiCGStab|ILU0|Residual|Absolute Mass)\\b"
			}]
		},
		"sections": {
			"patterns": [{
				"name": "keyword.control.sif",
				"match": "\\b(Header|Constants|Simulation|Solver(\\s+)\\d+|Body(\\s+)\\d+|Equation(\\s+)\\d+|Body Force(\\s+)\\d+|Material(\\s+)\\d+|(Initial|Boundary)(\\s+)Condition(\\s+)\\d+|Run Control|Component(\\s+)\\d+|End)\\b"
			}]
		},
		"fieldsheader": {
			"patterns": [{
				"name": "entity.name.function",
				"match": "\\b(CHECK(\\s+)KEYWORDS|Mesh(\\s+)DB|Include(\\s+)Path|Results(\\s+)Directory)\\b"
			}]
		},
		"fieldsconstants": {
			"patterns": [{
				"name": "entity.name.function",
				"match": "\\b(Gravity|Stefan Boltzmann|Permittivity of Vacuum|Permeability of Vacuum|Boltzmann Constant|Unit Charge)\\b"
			}]
		},
		"fieldssimulation": {
			"patterns": [{
				"name": "entity.name.function",
				"match": "\\b((Simulation(\\s+))*(Max(\\s+)Output(\\s+)Level|Coordinate(\\s+)System|Coordinate(\\s+)Mapping|Simulation(\\s+)Type|Steady(\\s+)State(\\s+)Max(\\s+)Iterations|Output(\\s+)Intervals|Timestep(\\s+)intervals|Timestep(\\s+)Sizes|Timestepping(\\s+)Method|BDF(\\s+)Order|Solver(\\s+)Input(\\s+)File|Post(\\s+)File)|Newmark(\\s+)Beta)\\b"
			}]
		},
		"fieldssolver": {
			"patterns": [{
				"name": "entity.name.function",
				"match": "\\b((Solver(\\s+)(\\d+))*(Equation|Variable|Procedure|Exec(\\s+)Solver|Stabilize|Optimize Bandwidth|Steady State Convergence Tolerance|Steady State Convergence Measure|Nonlinear System Convergence Tolerance|Nonlinear System Max Iterations|Nonlinear System Newton After Iterations|Nonlinear System Newton After Tolerance|Nonlinear System Relaxation Factor|Nonlinear System Convergence Measure|Linear System Solver|Linear System Iterative Method|Linear System Max Iterations|Linear System Convergence Tolerance|BiCGstabl polynomial degree|Linear System Preconditioning|Linear System ILUT Tolerance|Linear System Abort Not Converged|Linear System Residual Output|Linear System Precondition Recompute|Filename|Polyline(\\s+)Coordinates|Polyline(\\s+)Divisions))\\b"
			}]
		},
		"fieldsbody": {
			"patterns": [{
				"name": "entity.name.function",
				"match": "\\b((Body(\\s+)(\\d+))*(Target(\\s+)Bodies|Name|Equation|Material|Initial(\\s+)condition))\\b"
			}]
		},
		"fieldsequation": {
			"patterns": [{
				"name": "entity.name.function",
				"match": "\\b(Active(\\s+)Solvers|Concentration(\\s+)Units)\\b"
			}]
		},
		"fieldsmaterial": {
			"patterns": [{
				"name": "entity.name.function",
				"match": "\\b(Sound speed|Youngs modulus|Heat Conductivity|Heat expansion Coefficient|Poisson ratio|Heat Capacity|Density|Concentration Diffusivity)\\b"
			}]
		},
		"fieldsconditions": {
			"patterns": [{
				"name": "entity.name.function",
				"match": "\\b(Concentration|Target Boundaries|Heat Flux|Temperature)\\b"
			}]
		},
		"equations": {
			"patterns": [{
				"name": "entity.name.tag",
				"match": "\\b(Heat Equation|Advection Diffusion Equation|SaveLine)\\b"
			}]
		}
	},
	"scopeName": "source.sif"
}