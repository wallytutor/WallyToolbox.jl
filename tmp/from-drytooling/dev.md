# Developement

DryTooling is an unpublished rolling release package set composed of several sub-packages currently not following any versioning semantics. That means that new features are added and only the commits track differences. This is temporary and will be modified when all the old code base that is giving origing to the package is migrated here. Nonetheless, the package will probably not be published to Julia registries because of the way its governance works. DryTooling tries to be self-contained in several aspects because of the needs of perfect integration between functionalities of several of its foreseen end applications. That is currently incompatible with using some of the state-of-the-art packages from Julia ecosystem.

This page aims at providing a *tutorial* for managing DryTooling.

## Project management

Join the project management [here](https://tree.taiga.io/project/wallytutor-drytoolingjl).

## Adding new packages

To add a new package to the framework launch a terminal under the `src/` directory of the parent repository and state a julia REPL. Then change to `pkg>` mode by pressing `]` and run `generate DryTooling<package-name>.jl`, where you should replace the `<package-name>` by the actual package's name.

- Packages must use cammel-case naming scheme and start with `DryTooling`.
- Do not forget to add a `.jl` to the end of the package name.

This will create a subdirectory with the given package name and its own `src/` directory and `Project.toml` file.

Next you need to add the package to the documentation workflow. Update `docs/make.jl` following the pattern for existing sub-packages, *i.e*, add the package name *without .jl extension* to global `DRYTOOLING` and below, with other subpackages, add a `using` directive for the package. Keep packages in alphabetical order as displayed in file explorer for ease of verification.

## Generating the documentation

Documentation is generated by a GitHub Actions workflow at every commit to the main branch.

Because of the multiple package in a repository structure, this documentation follows *intrinsically* a rolling release logic. Because the packages are not registered, they also do not appear in the `docs/Project.toml`. So it is up to the maintainers to ensure that section `[deps]` of `docs/Project.toml` points to **ALL** dependencies of **ALL** subpackages. 

For generating the documentation locally, from a Julia session running from `docs/` , this is automalically done by  `make.jl` and the following is run from the REPL:

```repl
(@v1.9) pkg> activate .
  Activating project at `D:\DryTooling.jl\docs`

julia> include("make.jl")
   Resolving package versions...
   ...
```

Notice that this will backup `docs/Project.toml` and revert changes automatically. If the process fails, **DO NOT** commit changes to `docs/Project.toml`, otherwise GitHub Actions workflow will fail (because packages are not registered).
