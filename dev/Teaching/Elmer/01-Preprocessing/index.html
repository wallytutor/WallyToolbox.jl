<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Preprocessing · WallyToolbox.jl</title><meta name="title" content="Preprocessing · WallyToolbox.jl"/><meta property="og:title" content="Preprocessing · WallyToolbox.jl"/><meta property="twitter:title" content="Preprocessing · WallyToolbox.jl"/><meta name="description" content="Documentation for WallyToolbox.jl."/><meta property="og:description" content="Documentation for WallyToolbox.jl."/><meta property="twitter:description" content="Documentation for WallyToolbox.jl."/><meta property="og:url" content="https://wallytutor.github.io/WallyToolbox.jl/Teaching/Elmer/01-Preprocessing/"/><meta property="twitter:url" content="https://wallytutor.github.io/WallyToolbox.jl/Teaching/Elmer/01-Preprocessing/"/><link rel="canonical" href="https://wallytutor.github.io/WallyToolbox.jl/Teaching/Elmer/01-Preprocessing/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">WallyToolbox.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Dry Packages</span><ul><li><a class="tocitem" href="../../../DryCombustion/">DryCombustion</a></li><li><a class="tocitem" href="../../../DryFlowsheet/">DryFlowsheet</a></li><li><a class="tocitem" href="../../../DryGranular/">DryGranular</a></li><li><a class="tocitem" href="../../../DryMaterials/">DryMaterials</a></li><li><a class="tocitem" href="../../../DryTransport/">DryTransport</a></li><li><a class="tocitem" href="../../../helpers/">Helpers</a></li></ul></li><li><a class="tocitem" href="../../../Cantera/">Cantera</a></li><li><a class="tocitem" href="../../../OpenFOAM/">OpenFOAM</a></li><li><a class="tocitem" href="../../../RadCalNet/">RadCalNet</a></li><li><a class="tocitem" href="../../../toc/">Table of Contents</a></li><li><a class="tocitem" href="../../../References/">References</a></li><li><span class="tocitem">Teaching</span><ul><li><a class="tocitem" href="../../Machine Learning/">Machine Learning</a></li><li><a class="tocitem" href="../../Transport Phenomena/">Transport Phenomena</a></li><li><a class="tocitem" href="../../Basilisk/Basilisk/">Basilisk</a></li><li><a class="tocitem" href="../../OpenFOAM/">OpenFOAM</a></li><li><a class="tocitem" href="../">Elmer</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Preprocessing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Preprocessing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/wallytutor/WallyToolbox.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/wallytutor/WallyToolbox.jl/blob/main/docs/tmp/Teaching/Elmer/01-Preprocessing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Preprocessing"><a class="docs-heading-anchor" href="#Preprocessing">Preprocessing</a><a id="Preprocessing-1"></a><a class="docs-heading-anchor-permalink" href="#Preprocessing" title="Permalink"></a></h1><h2 id="Software"><a class="docs-heading-anchor" href="#Software">Software</a><a id="Software-1"></a><a class="docs-heading-anchor-permalink" href="#Software" title="Permalink"></a></h2><p>Other than the native <code>ElmerGrid</code>, one can try the following software for conceiving a geometry and mesh generation workflow.</p><h3 id="[FreeCAD](https://www.freecad.org/)"><a class="docs-heading-anchor" href="#[FreeCAD](https://www.freecad.org/)"><a href="https://www.freecad.org/">FreeCAD</a></a><a id="[FreeCAD](https://www.freecad.org/)-1"></a><a class="docs-heading-anchor-permalink" href="#[FreeCAD](https://www.freecad.org/)" title="Permalink"></a></h3><ul><li>Geometry only for now, probably the best in the list</li><li>Good parametric modeling support</li></ul><h3 id="[gmsh](https://gmsh.info/)"><a class="docs-heading-anchor" href="#[gmsh](https://gmsh.info/)"><a href="https://gmsh.info/">gmsh</a></a><a id="[gmsh](https://gmsh.info/)-1"></a><a class="docs-heading-anchor-permalink" href="#[gmsh](https://gmsh.info/)" title="Permalink"></a></h3><ul><li>Can export MSH2 (14) and UNV (8) formats readable by Elmer</li></ul><h3 id="[netgen](https://ngsolve.org/)"><a class="docs-heading-anchor" href="#[netgen](https://ngsolve.org/)"><a href="https://ngsolve.org/">netgen</a></a><a id="[netgen](https://ngsolve.org/)-1"></a><a class="docs-heading-anchor-permalink" href="#[netgen](https://ngsolve.org/)" title="Permalink"></a></h3><ul><li>Is able to write native Elmer linear meshes</li><li>Can be used as a plug-in</li></ul><h3 id="[Salome](https://www.salome-platform.org/)"><a class="docs-heading-anchor" href="#[Salome](https://www.salome-platform.org/)"><a href="https://www.salome-platform.org/">Salome</a></a><a id="[Salome](https://www.salome-platform.org/)-1"></a><a class="docs-heading-anchor-permalink" href="#[Salome](https://www.salome-platform.org/)" title="Permalink"></a></h3><ul><li><a href="https://docs.salome-platform.org/latest/main/gui.html">Documentation</a></li><li>Can export UNV (8) meshes readable by Elmer</li><li>An extension to call Elmer directly from Salome is under development</li></ul><h3 id="[tetgen](https://wias-berlin.de/software/tetgen/1.5/index.html)"><a class="docs-heading-anchor" href="#[tetgen](https://wias-berlin.de/software/tetgen/1.5/index.html)"><a href="https://wias-berlin.de/software/tetgen/1.5/index.html">tetgen</a></a><a id="[tetgen](https://wias-berlin.de/software/tetgen/1.5/index.html)-1"></a><a class="docs-heading-anchor-permalink" href="#[tetgen](https://wias-berlin.de/software/tetgen/1.5/index.html)" title="Permalink"></a></h3><ul><li>Can be used as a plug-in</li></ul><h2 id="Recommendations"><a class="docs-heading-anchor" href="#Recommendations">Recommendations</a><a id="Recommendations-1"></a><a class="docs-heading-anchor-permalink" href="#Recommendations" title="Permalink"></a></h2><ul><li><p>Users are encouraged to use external tools such as <a href="https://gmsh.info/">gmsh</a> or <a href="https://www.salome-platform.org/">Salome</a> to generate computational meshes, built-in support in Elmer bein limited to very simple geometries only.</p></li><li><p>Not all <code>gmsh</code> standard mesh formats are supported, but only version 2 (as for OpenFOAM); that said, users are encouraged to export mesh in UNV format to avoid compatibility issues, and also because both proposed tools support it. You can control the element orders in command line using option <code>-order &lt;N&gt;</code>; gmsh operates this way so that the same script can generate any supported element type.</p></li><li><p>For importing meshes one uses <code>ElmerGrid &lt;input-format&gt; &lt;output-format&gt;</code>, where the format arguments are documented in the <a href="https://www.nic.funet.fi/pub/sci/physics/elmer/doc/ElmerGridManual.pdf">manual</a> sections 1.3 and 1.4. The UNV input is given by number 8 while standard <code>ElmerSolver</code> output by number 2, so that the conversion command would start with <code>ElmerGrid 8 2 &lt;other-arguments...&gt;</code>. Always verify the number of nodes remain untouched after conversion - or if it changed when using option <code>-merge &lt;dist&gt;</code>, merging nodes that are closer than the user-defined <code>&lt;dist&gt;</code>.</p></li><li><p>Remember to use <code>Coherence;</code>  with OpenCASCADE factory in gmsh scripts to automatically strip internal faces; that might not be enough for complex cases, see below. <strong>Note:</strong> I tried doing so and unless <code>Physical Surfaces</code> naming the external boundaries are provided every interface is dumped and imported by Elmer; maybe I misunderstood the use of command!</p></li><li><p>Because faces are not named in Elmer, <em>i.e.</em> no matter what <code>Physical Surface</code> names you provide in gmsh, even for the advanced user working from command line it might be interesting to use the interactive zone grouping capabilities of <code>ElmerGUI</code>. That might even become a <em>requirement</em> as geometric complexity grows.</p></li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Saturday 25 May 2024 16:34">Saturday 25 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
